<link rel="stylesheet" href="../style.css">
<p class="ed">(Добавленные примечания проясняют, что синтаксис URI для ECMAScript основан на RFC 2369, а не на более поздней версии RFC 3986. В алгоритме абстрактной операции Decode был удалён шаг, непосредственно предшествующий текущему шагу 4.d.vii.10.a, поскольку в нём производилась проверка условия, которое не могло произойти.)</p>

	<p>
	Формат закодированных URI определяется следующей лексической грамматикой:</p>

<p>&acirc;€¦</p>

<ins>
	<p><b class="note">ПРИМЕЧАНИЕ</b> Вышеприведённый синтаксис указан в соответствии с документом RFC&nbsp;2396 и не отражает изменений, появившихся в более позднем документе RFC&nbsp;3986.</p>
</ins>

	<p>
	Процесс возврата и декодирования описан абстрактной операцией Decode, которая принимает два строковые аргумента <i>string</i> и <i>reservedSet</i>.</p>
	<ol>
		<li value="1"><p>
		Пусть <i>strLen</i> будет количеством символов в <i>string</i>.</p>
<p>&acirc;€¦</p>
		</li>
		<li value="4"><p>
		Повторить</p>
<p>&acirc;€¦</p>
		<ol type="a">
			<li value="4"><p>
			Иначе, пусть <i>C</i> будет &lsquo;<code><b>%</b></code>&rsquo;</p>
<p>&acirc;€¦</p>
			<ol type="i">
				<li value="7"><p>
				Иначе, старший бит в <i>B</i> равен 1</p>
<p>&acirc;€¦</p>
				<ol>
					<li value="10"><p>
					Иначе, <i>V</i> равно &#8805; 0x10000</p>
					<ol>
						<li><del><p>
						Если <i>V</i> больше чем 0x10FFFF, сгенерировать исключение <b>URIError</b>.</p></del>
						</li>
						<li value="1"><p>
						Пусть <i>L</i> будет (((<i>V</i> &ndash; 0x10000) &amp; 0x3FF) + 0xDC00).</p>
						</li>
						<li><p>
						Пусть <i>H</i> будет ((((<i>V</i> &ndash; 0x10000) &gt;&gt; 10) &amp; 0x3FF) + 0xD800).</p>
						</li>
						<li><p>
						Пусть <i>S</i> будет строкой, содержащей два символа с кодовыми значениями <i>H</i> и <i>L</i>.</p>
					</li></ol>
				</li>
</ol>
			</li>
<p>&acirc;€¦</p>
</ol>
			</li>
</ol>
	</li></ol>
	<p><b class="note">ПРИМЕЧАНИЕ</b> Синтаксис для URI указан в соответствии с RFC 2396 <ins>и не отражает изменений, появившихся в более позднем документе RFC 3986, заменившем RFC 2396</ins>. Формальное описание и реализация UTF-8 указаны в RFC 3629.</p>

